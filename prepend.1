.\" Automatically generated by Pandoc 1.17.0.3
.\"
.TH "PREPEND" "1" "2016\-04\-18" "2.1.1" ""
.hy
.SH NAME
.PP
\f[B]prepend\f[] \- prepends data to files
.SH SYNOPSIS
.PP
\f[B]prepend\f[] [\f[B]\-t\f[]|\f[B]\-\-tee\f[]] \f[I]FILE\f[]...
.PD 0
.P
.PD
\f[B]prepend\f[] \f[B]\-h\f[]|\f[B]\-\-help\f[]
.PD 0
.P
.PD
\f[B]prepend\f[] \f[B]\-V\f[]|\f[B]\-\-version\f[]
.SH DESCRIPTION
.PP
\f[B]prepend\f[], as the name suggests, prepends data to files.
Data is read from standard input and stored in a buffer until EOF is
reached.
\f[I]FILE\f[] is then read into a separate buffer until EOF.
\f[I]FILE\f[] is then truncated to zero length, and the standard input
buffer and \f[I]FILE\f[]\[aq]s original contents are then written to
\f[I]FILE\f[].
This is performed for each specified \f[I]FILE\f[], in the order in
which they were specified.
.SH OPTIONS
.TP
.B \-t, \-\-tee
Prints the contents of \f[I]FILE\f[] to stdout after prepending data; if
more than one \f[I]FILE\f[] was specified, the new contents of each
\f[I]FILE\f[] is printed in the order in which the \f[I]FILE\f[]s were
listed
.RS
.RE
.TP
.B \-h, \-\-help
Prints help information
.RS
.RE
.TP
.B \-V, \-\-version
Prints the current version number
.RS
.RE
.SH EXAMPLES
.PP
Add the word "Groceries" (followed by a line break) to the start of
shopping.txt:
.IP
.nf
\f[C]
prepend\ shopping.txt\ <<<\ "Groceries"
\f[]
.fi
.PP
Prepend the contents of foo.txt to bar.txt:
.IP
.nf
\f[C]
prepend\ bar.txt\ <\ foo.txt
\f[]
.fi
.PP
Check every .sh file in the current directory for a shebang, and prepend
\[aq]#!/usr/bin/env bash\[aq] to the file if none is found:
.IP
.nf
\f[C]
for\ file\ in\ ./*.sh;\ do
\ \ \ \ if\ !\ grep\ \[aq]#!\[aq]\ "$file"\ &>\ /dev/null;\ then
\ \ \ \ \ \ \ \ prepend\ "$file"\ <<<\ \[aq]#!/usr/bin/env\ bash\[aq]
\ \ \ \ fi
done
\f[]
.fi
.SH DIAGNOSTICS
.PP
The error message that is most likely to be displayed is "Writing to
file FILE failed: CAUSE", with CAUSE being something like "Permission
denied" or "Is a directory." These errors should be fairly
self\-explanatory.
.PP
Other error messages may be displayed if I/O errors occur.
.SH EXIT VALUES
.TP
.B 0
No errors occurred
.RS
.RE
.TP
.B 1
Invalid syntax or usage
.RS
.RE
.TP
.B 2
Files were specified, but none could be written to
.RS
.RE
.TP
.B 3
Other errors occurred
.RS
.RE
.SH WARNING
.PP
Because \f[B]prepend\f[] functions by truncating the \f[I]FILE\f[](s) to
zero length before writing data, data loss is possible if the program is
killed or interrupted.
However, this is a small risk, equivalent to the chance of data loss
occurring when using a shell to redirect the output of a command to a
file.
.SH BUGS
.PP
Any bugs should be reported to
<https://github.com/sector-f/prepend/issues>
.SH SEE ALSO
.PP
Source code can be found at <https://github.com/sector-f/prepend>
